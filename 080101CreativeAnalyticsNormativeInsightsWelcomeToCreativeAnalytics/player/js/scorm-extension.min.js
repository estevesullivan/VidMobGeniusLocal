(self.webpackChunk=self.webpackChunk||[]).push([[2714],{82077:(e,t)=>{"use strict";t.SCORM_WRAPPER_INIT="SCORM_WRAPPER_INIT",t.SCORM_WRAPPER_CHANGE="SCORM_WRAPPER_CHANGE",t.SCORM_DESERIALISE="SCORM_DESERIALISE",t.SCORM_ERROR="SCORM_ERROR",t.SCORM_FINISH="SCORM_FINISH",t.scormWrapperInit=()=>({type:t.SCORM_WRAPPER_INIT}),t.scormWrapperChange=e=>({type:t.SCORM_WRAPPER_CHANGE,payload:e}),t.scormDeserialise=()=>({type:t.SCORM_DESERIALISE}),t.scormError=e=>({type:t.SCORM_ERROR,payload:e}),t.scormFinish=e=>({type:t.SCORM_FINISH,payload:e})},92657:(e,t,s)=>{"use strict";const i=s(11104),n=s(72579),o=s(82421),r=s(17620),{Observable:a}=s(28761),{SETUP_DATA:c,setDataReadyState:l,setLearner:d}=s(63444),{TRACKABLE_CHANGE:u}=s(59828),{WINDOW_BEFORE_UNLOAD:m,WINDOW_UNLOAD:h}=s(36498),{COMPONENT_COMPLETED:p}=s(29933),{setTracking:g,getTrackingImmediately:_}=s(84491),C=s(274),S=s(15240),f=s(84854),O=s(16488).getInstance(),{SCORM_WRAPPER_INIT:R,SCORM_DESERIALISE:E,SCORM_ERROR:I,SCORM_FINISH:M,scormWrapperInit:v,scormWrapperChange:b,scormDeserialise:T,scormError:A}=s(82077);t.scormDataReadyEpic=(e,t)=>e.filter((e=>{var s;return e.type===c&&(null===(s=t.getState().scorm)||void 0===s?void 0:s._isEnabled)})).mergeMap((()=>a.concat(a.of(l("scorm",!1)),a.of(v()),a.of(T()),a.of(l("scorm",!0))))),t.scormWrapperInitEpic=(e,t)=>e.ofType(R).map((()=>{const{scorm:e}=t.getState(),s=n(e,"_useAdvancedTracking",!1);let o=!1,r={};if(O.suppressErrors=!0!==e._shouldShowScormErrors,O.setVersion("2004_3rd"===e._scormVersion?"2004":e._scormVersion),O.initialize()&&(o=!0),o){const e=O.getSuspendData();e&&(s?(r=i.decompress(e,{inputEncoding:"Base64"}),r=JSON.parse(r)):s||n(r,"completion",!1)?!s&&n(r,"completion",!1)&&(r={_isComplete:r._isCourseComplete,_isPassed:r._isAssessmentPassed,_assessmentAttemptsTaken:r._assessmentAT,_state:r.completion,_lastCompletedComponentId:r._lastCompletedComponentId}):r=JSON.parse(e.replace(/'/g,'"')))}return b({hasWrapperInitialised:o,suspendData:r})})),t.scormDeserialiseEpic=(e,t)=>e.filter((e=>{const s=t.getState();if(e.type!==E)return!1;const{scorm:i}=s;return(null==i?void 0:i._isEnabled)&&(null==i?void 0:i.hasWrapperInitialised)&&!(null!=i&&i.hasSCOFinished)})).mergeMap((()=>{const e=t.getState(),{scorm:s}=e,i=[];if(n(s,"suspendData._state",!1)){const t=n(s,"_useAdvancedTracking",!1);let i={};i=o({},s.suspendData,t?{_state:S(s.suspendData._state,e,!0)}:{_state:{_components:S(s.suspendData._state,e,!1)}}),g(i,!0)}const r=O.getStudentName();if(null!=r&&r.length){const{firstName:e,lastName:t}=f(r);i.push(d({_id:`${e} ${t}`,firstName:e,lastName:t}))}return i.length?a.of(...i):a.empty()})),t.scormTrackerChangeEpic=(e,t)=>e.filter((e=>{const s=t.getState();if(s.app.isDataReady&&s.app.hasAppStarted&&(e.type===p||e.type===u)){const{scorm:e}=s;return(null==e?void 0:e._isEnabled)&&(null==e?void 0:e.hasWrapperInitialised)&&!(null!=e&&e.hasSCOFinished)}return!1})).delay(100).map((e=>{const{scorm:s}=t.getState(),a=_(),{_status:c,_score:l,_state:d}=a;let u=n(s,"suspendData._lastCompletedComponentId","");const m=n(s,"_useAdvancedTracking",!1),h=n(s,"_shouldSendScore",!0),g=C(d,m);e.type===p&&(u=e.payload.componentId);const S=r(o({},a,{_state:g,_lastCompletedComponentId:u}),["_id","_createdAt","_updatedAt","_hasStarted"]);let f=JSON.stringify(S);m&&(f=i.compress(f,{outputEncoding:"Base64"}));try{O.setSuspendData(f),console.log(`SCORM suspend data size: ${new Blob([f]).size} bytes`),h&&O.setScore(l,0,100),["complete","passed"].includes(c)?O.setStatus(s._reporting._onTrackingCriteriaMet):"failed"===c?O.setStatus(s._reporting._onAssessmentFailure):O.setIncomplete()}catch(e){return console.error(e),A(e)}return b({suspendData:S})})),t.scormFinishEpic=(e,t)=>e.filter((e=>{const s=t.getState();if([h,m,M].includes(e.type)){const{scorm:e}=s;return(null==e?void 0:e._isEnabled)&&(null==e?void 0:e.hasWrapperInitialised)&&!(null!=e&&e.hasSCOFinished)}return!1})).map((()=>{const{scorm:e}=t.getState(),s=_(),{_state:a}=s,c=n(e,"suspendData._lastCompletedComponentId",""),l=n(e,"_useAdvancedTracking",!1),d=n(e,"_cmiExitState","auto"),u=C(a,l),m=r(o({},s,{_state:u,_lastCompletedComponentId:c}),["_id","_createdAt","_updatedAt","_hasStarted"]);let h=JSON.stringify(m);l&&(h=i.compress(h,{outputEncoding:"Base64"}));try{O.setSuspendData(h),O.finish(d)}catch(e){return console.error(e),A(e)}return b({hasSCOFinished:!0})})),t.scormErrorEpic=e=>e.ofType(I).do((()=>{window.alert("There has been an error saving your progress to the LMS.")})).ignoreElements()},15240:(e,t,s)=>{"use strict";const i=s(92191),n=s(93806);e.exports=(e,t,s)=>{const{components:o,blocks:r,articles:a,contentObjects:c,logic:l}=t;if(s){const t={};return t._components=i(o).keys().map(((t,s)=>{const i=e._components[s];return i?{_id:t,_isHidden:1===i[0],_isComplete:1===i[1],_isCorrect:1===i[2]}:{_id:t}})).keyBy("_id").value(),t._blocks=i(r).keys().map(((t,s)=>{const i=e._blocks[s];return i?{_id:t,_isHidden:1===i[0]}:{_id:t}})).keyBy("_id").value(),t._articles=i(a).keys().map(((t,s)=>{const i=e._articles[s];return i?{_id:t,_isHidden:1===i[0]}:{_id:t}})).keyBy("_id").value(),t._contentObjects=i(c).keys().map(((t,s)=>{const i=e._contentObjects[s];return i?{_id:t,_isHidden:1===i[0],_hasBeenViewed:1===i[1]}:{_id:t}})).keyBy("_id").value(),t._variables=i(l.variables).keys().map(((t,s)=>{const i=e._variables[s];return i?{_id:t,_value:i[0]}:{_id:t}})).keyBy("_id").value(),e._triggers?t._triggers=i(l.triggers.byRefId).keys().map(((t,s)=>{const i=l.triggers.byRefId[t],n=e._triggers[s];return n?{_id:i._id,_isEnabled:1===n[0]}:{_id:i._id}})).keyBy("_id").value():t._triggers={},t}return function(e,t){const s=e.split("");return i(t).keys().map(((e,t)=>{const i={_id:e,_isComplete:!1,_isCorrect:!1};switch(s[t]){case n.NOT_COMPLETE:break;case n.COMPLETE:i._isComplete=!0;break;case n.COMPLETE_NOT_CORRECT:i._isComplete=!0,i._isCorrect=!1;break;case n.COMPLETE_CORRECT:default:i._isComplete=!0,i._isCorrect=!0}return i})).keyBy("_id").value()}(e,o)}},84854:e=>{"use strict";e.exports=function(e=""){const t=e.includes(","),s=e.split(t?",":" ");if(t){const[e,t]=s.reverse().map((e=>e.trim()));return{firstName:e,lastName:t}}const[i,...n]=s;return{firstName:i,lastName:n.join(" ")}}},93806:e=>{"use strict";e.exports={NOT_COMPLETE:"0",COMPLETE:"1",COMPLETE_NOT_CORRECT:"2",COMPLETE_CORRECT:"3"}},274:(e,t,s)=>{"use strict";const i=s(16760),n=s(82421),o=s(79421),r=s(93806);e.exports=(e,t)=>{if(t){const t={};return t._components=i(e._components,(e=>[e._isHidden?1:0,e._isComplete?1:0,e._isCorrect?1:0])),t._blocks=i(e._blocks,(e=>[e._isHidden?1:0])),t._articles=i(e._articles,(e=>[e._isHidden?1:0])),t._contentObjects=i(e._contentObjects,(e=>[e._isHidden?1:0,e._hasBeenViewed?1:0])),t._variables=i(e._variables,(e=>[e._value])),t._triggers=i(e._triggers,(e=>[!1===e._isEnabled?0:1])),n({},e,t)}return function(e){let t="";return o(e,(e=>{let s=r.NOT_COMPLETE;const i="question"===e._interactionType;e._isComplete?e._isComplete&&!i?s=r.COMPLETE:e._isComplete&&i&&!e._isCorrect?s=r.COMPLETE_NOT_CORRECT:e._isComplete&&i&&e._isCorrect&&(s=r.COMPLETE_CORRECT):s=r.NOT_COMPLETE,t+=s})),t}(e._components)}},12461:(e,t)=>{"use strict";var s,i;void 0===(i="function"==typeof(s=function(){var e={UTILS:{},debug:{isActive:!0},SCORM:{version:null,handleCompletionStatus:!0,handleExitMode:!0,API:{handle:null,isFound:!1},connection:{isActive:!1},data:{completionStatus:null,exitStatus:null},debug:{}}};return e.SCORM.isAvailable=function(){return!0},e.SCORM.API.find=function(t){for(var s=null,i=0,n="SCORM.API.find",o=e.UTILS.trace,r=e.SCORM;!t.API&&!t.API_1484_11&&t.parent&&t.parent!=t&&i<=500;)i++,t=t.parent;if(r.version)switch(r.version){case"2004":t.API_1484_11?s=t.API_1484_11:o(n+": SCORM version 2004 was specified by user, but API_1484_11 cannot be found.");break;case"1.2":t.API?s=t.API:o(n+": SCORM version 1.2 was specified by user, but API cannot be found.")}else t.API_1484_11?(r.version="2004",s=t.API_1484_11):t.API&&(r.version="1.2",s=t.API);return s?(o(n+": API found. Version: "+r.version),o("API: "+s)):o(n+": Error finding API. \nFind attempts: "+i+". \nFind attempt limit: 500"),s},e.SCORM.API.get=function(){var t=null,s=window,i=e.SCORM,n=i.API.find,o=e.UTILS.trace;return!(t=n(s))&&s.parent&&s.parent!=s&&(t=n(s.parent)),!t&&s.top&&s.top.opener&&(t=n(s.top.opener)),!t&&s.top&&s.top.opener&&s.top.opener.document&&(t=n(s.top.opener.document)),t?i.API.isFound=!0:o("API.get failed: Can't find the API!"),t},e.SCORM.API.getHandle=function(){var t=e.SCORM.API;return t.handle||t.isFound||(t.handle=t.get()),t.handle},e.SCORM.connection.initialize=function(){var t=!1,s=e.SCORM,i=s.data.completionStatus,n=e.UTILS.trace,o=e.UTILS.StringToBoolean,r=s.debug,a="SCORM.connection.initialize ";if(n("connection.initialize called."),s.connection.isActive)n(a+"aborted: Connection already active.");else{var c=s.API.getHandle(),l=0;if(c){switch(s.version){case"1.2":t=o(c.LMSInitialize(""));break;case"2004":t=o(c.Initialize(""))}if(t)if(null!==(l=r.getCode())&&0===l){if(s.connection.isActive=!0,s.handleCompletionStatus&&(i=s.status("get"))){switch(i){case"not attempted":case"unknown":s.status("set","incomplete")}s.save()}}else t=!1,n(a+"failed. \nError code: "+l+" \nError info: "+r.getInfo(l));else n(null!==(l=r.getCode())&&0!==l?a+"failed. \nError code: "+l+" \nError info: "+r.getInfo(l):a+"failed: No response from server.")}else n(a+"failed: API is null.")}return t},e.SCORM.connection.terminate=function(){var t=!1,s=e.SCORM,i=s.data.exitStatus,n=s.data.completionStatus,o=e.UTILS.trace,r=e.UTILS.StringToBoolean,a=s.debug,c="SCORM.connection.terminate ";if(s.connection.isActive){var l=s.API.getHandle(),d=0;if(l){if(s.handleExitMode&&!i)if("completed"!==n&&"passed"!==n)switch(s.version){case"1.2":t=s.set("cmi.core.exit","suspend");break;case"2004":t=s.set("cmi.exit","suspend")}else switch(s.version){case"1.2":t=s.set("cmi.core.exit","logout");break;case"2004":t=s.set("cmi.exit","normal")}if(t="1.2"!==s.version||s.save()){switch(s.version){case"1.2":t=r(l.LMSFinish(""));break;case"2004":t=r(l.Terminate(""))}t?s.connection.isActive=!1:o(c+"failed. \nError code: "+(d=a.getCode())+" \nError info: "+a.getInfo(d))}}else o(c+"failed: API is null.")}else o(c+"aborted: Connection already terminated.");return t},e.SCORM.data.get=function(t){var s=null,i=e.SCORM,n=e.UTILS.trace,o=i.debug,r="SCORM.data.get('"+t+"') ";if(i.connection.isActive){var a=i.API.getHandle(),c=0;if(a){switch(i.version){case"1.2":s=a.LMSGetValue(t);break;case"2004":s=a.GetValue(t)}if(c=o.getCode(),""!==s||0===c)switch(t){case"cmi.core.lesson_status":case"cmi.completion_status":i.data.completionStatus=s;break;case"cmi.core.exit":case"cmi.exit":i.data.exitStatus=s}else n(r+"failed. \nError code: "+c+"\nError info: "+o.getInfo(c))}else n(r+"failed: API is null.")}else n(r+"failed: API connection is inactive.");return n(r+" value: "+s),String(s)},e.SCORM.data.set=function(t,s){var i=!1,n=e.SCORM,o=e.UTILS.trace,r=e.UTILS.StringToBoolean,a=n.debug,c="SCORM.data.set('"+t+"') ";if(n.connection.isActive){var l=n.API.getHandle(),d=0;if(l){switch(n.version){case"1.2":i=r(l.LMSSetValue(t,s));break;case"2004":i=r(l.SetValue(t,s))}i?"cmi.core.lesson_status"!==t&&"cmi.completion_status"!==t||(n.data.completionStatus=s):o(c+"failed. \nError code: "+(d=a.getCode())+". \nError info: "+a.getInfo(d))}else o(c+"failed: API is null.")}else o(c+"failed: API connection is inactive.");return o(c+" value: "+s),i},e.SCORM.data.save=function(){var t=!1,s=e.SCORM,i=e.UTILS.trace,n=e.UTILS.StringToBoolean,o="SCORM.data.save failed";if(s.connection.isActive){var r=s.API.getHandle();if(r)switch(s.version){case"1.2":t=n(r.LMSCommit(""));break;case"2004":t=n(r.Commit(""))}else i(o+": API is null.")}else i(o+": API connection is inactive.");return t},e.SCORM.status=function(t,s){var i=!1,n=e.SCORM,o=e.UTILS.trace,r="SCORM.getStatus failed",a="";if(null!==t){switch(n.version){case"1.2":a="cmi.core.lesson_status";break;case"2004":a="cmi.completion_status"}switch(t){case"get":i=n.data.get(a);break;case"set":null!==s?i=n.data.set(a,s):(i=!1,o(r+": status was not specified."));break;default:i=!1,o(r+": no valid action was specified.")}}else o(r+": action was not specified.");return i},e.SCORM.debug.getCode=function(){var t=e.SCORM,s=t.API.getHandle(),i=e.UTILS.trace,n=0;if(s)switch(t.version){case"1.2":n=parseInt(s.LMSGetLastError(),10);break;case"2004":n=parseInt(s.GetLastError(),10)}else i("SCORM.debug.getCode failed: API is null.");return n},e.SCORM.debug.getInfo=function(t){var s=e.SCORM,i=s.API.getHandle(),n=e.UTILS.trace,o="";if(i)switch(s.version){case"1.2":o=i.LMSGetErrorString(t.toString());break;case"2004":o=i.GetErrorString(t.toString())}else n("SCORM.debug.getInfo failed: API is null.");return String(o)},e.SCORM.debug.getDiagnosticInfo=function(t){var s=e.SCORM,i=s.API.getHandle(),n=e.UTILS.trace,o="";if(i)switch(s.version){case"1.2":o=i.LMSGetDiagnostic(t);break;case"2004":o=i.GetDiagnostic(t)}else n("SCORM.debug.getDiagnosticInfo failed: API is null.");return String(o)},e.SCORM.init=e.SCORM.connection.initialize,e.SCORM.get=e.SCORM.data.get,e.SCORM.set=e.SCORM.data.set,e.SCORM.save=e.SCORM.data.save,e.SCORM.quit=e.SCORM.connection.terminate,e.UTILS.StringToBoolean=function(e){switch(typeof e){case"object":case"string":return/(true|1)/i.test(e);case"number":return!!e;case"boolean":return e;case"undefined":return null;default:return!1}},e.UTILS.trace=function(t){e.debug.isActive&&window.console&&window.console.log&&window.console.log(t)},e})?s.apply(t,[]):s)||(e.exports=i)},58158:e=>{"use strict";class t{constructor(){this._log=[],this._views=[]}static getInstance(){return null===t.instance&&(t.instance=new t),t.instance}getEntries(){return this._log}getLastEntry(){return this._log.at(-1)}info(e){this._log.push({str:e,type:t.LOG_TYPE_INFO,time:Date.now()}),this.updateViews()}warn(e){this._log.push({str:e,type:t.LOG_TYPE_WARN,time:Date.now()}),this.updateViews()}error(e){this._log.push({str:e,type:t.LOG_TYPE_ERROR,time:Date.now()}),this.updateViews()}debug(e){this._log.push({str:e,type:t.LOG_TYPE_DEBUG,time:Date.now()}),this.updateViews()}registerView(e){this._views.push(e)}unregisterView(e){const t=this._views.indexOf(e);-1!==t&&this._views.splice(t,1)}updateViews(){this._views.forEach((e=>e.update(this)))}}t.instance=null,t.LOG_TYPE_INFO=0,t.LOG_TYPE_WARN=1,t.LOG_TYPE_ERROR=2,t.LOG_TYPE_DEBUG=3,window.Logger=t,e.exports=t},16488:(e,t,s)=>{"use strict";const i=s(58158),n=s(12461);class o{constructor(){this.setCompletedWhenFailed=!0,this.commitOnStatusChange=!0,this.timedCommitFrequency=5,this.maxCommitRetries=5,this.commitRetryDelay=1e3,this.commitRetryPending=!1,this.commitRetries=0,this.timedCommitIntervalID=null,this.retryCommitTimeoutID=null,this.logOutputWin=null,this.startTime=null,this.lmsConnected=!1,this.finishCalled=!1,this.logger=null==i?void 0:i.getInstance(),this.scorm=n.SCORM}static getInstance(){return null===o.instance&&(o.instance=new o),o.instance}setVersion(e){this.scorm.version=e}isSCORM2004(){return"2004"===this.getVersion()}getVersion(){return this.scorm.version}initialize(){return this.lmsConnected=this.scorm.init(),this.lmsConnected?(this.startTime=new Date,this.initTimedCommit()):this.handleError("Course could not connect to the LMS"),this.lmsConnected}isFirstSession(){return"ab-initio"===this.getValue(this.isSCORM2004()?"cmi.entry":"cmi.core.entry")}setIncomplete(){this.setValue(this.isSCORM2004()?"cmi.completion_status":"cmi.core.lesson_status","incomplete"),this.commitOnStatusChange&&this.commit()}setCompleted(){this.setValue(this.isSCORM2004()?"cmi.completion_status":"cmi.core.lesson_status","completed"),this.commitOnStatusChange&&this.commit()}setPassed(){this.isSCORM2004()?(this.setValue("cmi.completion_status","completed"),this.setValue("cmi.success_status","passed")):this.setValue("cmi.core.lesson_status","passed"),this.commitOnStatusChange&&this.commit()}setFailed(){this.isSCORM2004()?(this.setValue("cmi.success_status","failed"),this.setCompletedWhenFailed&&this.setValue("cmi.completion_status","completed")):this.setValue("cmi.core.lesson_status","failed"),this.commitOnStatusChange&&this.commit()}getStatus(){const e=this.getValue(this.isSCORM2004()?"cmi.completion_status":"cmi.core.lesson_status");switch(e.toLowerCase()){case"passed":case"completed":case"incomplete":case"failed":case"browsed":case"not attempted":case"not_attempted":case"unknown":return e;default:return this.handleError(`ScormWrapper:getStatus: invalid lesson status '${e}' received from LMS`),null}}setStatus(e){switch(e.toLowerCase()){case"incomplete":this.setIncomplete();break;case"completed":this.setCompleted();break;case"passed":this.setPassed();break;case"failed":this.setFailed();break;default:this.handleError(`ScormWrapper:setStatus: the status '${e}' is not supported.`)}}getScore(){return this.getValue(this.isSCORM2004()?"cmi.score.raw":"cmi.core.score.raw")}setScore(e,t=0,s=100){if(this.isSCORM2004())return this.setValue("cmi.score.raw",e),this.setValue("cmi.score.min",t),this.setValue("cmi.score.max",s),void this.setValue("cmi.score.scaled",e/100);this.setValue("cmi.core.score.raw",e),this.isSupported("cmi.core.score.min")&&this.setValue("cmi.core.score.min",t),this.isSupported("cmi.core.score.max")&&this.setValue("cmi.core.score.max",s)}getLessonLocation(){return this.getValue(this.isSCORM2004()?"cmi.location":"cmi.core.lesson_location")}setLessonLocation(e){this.setValue(this.isSCORM2004()?"cmi.location":"cmi.core.lesson_location",e)}getSuspendData(){return this.getValue("cmi.suspend_data")}setSuspendData(e){this.setValue("cmi.suspend_data",e)}getStudentName(){return this.getValue(this.isSCORM2004()?"cmi.learner_name":"cmi.core.student_name")}commit(){if(this.logger.debug("ScormWrapper:commit"),!this.lmsConnected)return void this.handleError("Course is not connected to the LMS");if(this.commitRetryPending)return void this.logger.debug("ScormWrapper:commit: skipping this commit call as one is already pending.");if(this.scorm.save())return this.commitRetries=0,void(this.lastCommitSuccessTime=new Date);if(this.commitRetries<this.maxCommitRetries&&!this.finishCalled)return this.commitRetries++,void this.initRetryCommit();const e=this.scorm.debug.getCode();let t="Course could not commit data to the LMS";t+=`\nError ${e}: ${this.scorm.debug.getInfo(e)}`,t+=`\nLMS Error Info: ${this.scorm.debug.getDiagnosticInfo(e)}`,this.handleError(t)}finish(e){if(this.logger.debug("ScormWrapper:finish"),!this.lmsConnected||this.finishCalled)return void this.handleError("Course is not connected to the LMS");this.finishCalled=!0,null!==this.timedCommitIntervalID&&window.clearInterval(this.timedCommitIntervalID),this.commitRetryPending&&(window.clearTimeout(this.retryCommitTimeoutID),this.commitRetryPending=!1),this.logOutputWin&&!this.logOutputWin.closed&&this.logOutputWin.close();const t=(new Date).getTime()-this.startTime.getTime();"auto"!==e&&(this.scorm.handleExitMode=!1),this.isSCORM2004()?(this.scorm.set("cmi.session_time",this.convertToSCORM2004Time(t)),"auto"!==e&&this.scorm.set("cmi.exit",e)):(this.scorm.set("cmi.core.session_time",this.convertToSCORM12Time(t)),"auto"!==e&&this.scorm.set("cmi.core.exit",e)),this.lmsConnected=!1,this.scorm.quit()||this.handleError("Course could not finish")}getValue(e){if(this.logger.debug(`ScormWrapper:getValue ${e}`),this.finishCalled)return void this.logger.debug("ScormWrapper:getValue: ignoring request as 'finish' has been called");if(!this.lmsConnected)return void this.handleError("Course is not connected to the LMS");const t=this.scorm.get(e),s=this.scorm.debug.getCode();switch(s){case 0:break;case 403:this.logger.warn("ScormWrapper:getValue: data model element not initialized");break;default:{const t=this.scorm.debug.getInfo(s),i=this.scorm.debug.getDiagnosticInfo(s);this.handleError(`Course could not get ${e}\n\n                    Error Info: ${t}\n                    ${i?`\nAdditional LMS Error Info: ${i}`:""}`)}}return this.logger.debug(`ScormWrapper:getValue: returning ${t}`),`${t}`}setValue(e,t){if(this.logger.debug(`ScormWrapper:setValue: ${e}=${t}`),this.finishCalled)return void this.logger.debug("ScormWrapper:setValue: ignoring request as 'finish' has been called");if(!this.lmsConnected)return void this.handleError("Course is not connected to the LMS");const s=this.scorm.set(e,t),i=this.scorm.debug.getCode();if(!s&&0!==i){const n=this.scorm.debug.getInfo(i),o=this.scorm.debug.getDiagnosticInfo(i);return this.handleError(`Course could not set ${e} to ${t}\n\n                Error Info: ${n}\n                ${o?`\nAdditional LMS Error Info: ${o}`:""}`),s}return s}isSupported(e){if(!this.finishCalled)return this.lmsConnected?(this.scorm.get(e),401!==this.scorm.debug.getCode()):(this.handleError("Course is not connected to the LMS"),!1);this.logger.debug("ScormWrapper:isSupported: ignoring request as 'finish' has been called")}initTimedCommit(){if(this.logger.debug("ScormWrapper:initTimedCommit"),this.timedCommitFrequency>0){const e=6e4*this.timedCommitFrequency;this.timedCommitIntervalID=window.setInterval(this.commit.bind(this),e)}}initRetryCommit(){this.logger.debug("ScormWrapper:initRetryCommit"),this.commitRetryPending=!0,this.retryCommitTimeoutID=window.setTimeout((()=>{this.logger.debug("ScormWrapper:doRetryCommit"),this.commitRetryPending=!1,this.commit()}),this.commitRetryDelay)}handleError(e){this.suppressErrors||(this.logger.error(e),this.logOutputWin&&!this.logOutputWin.closed||!window.confirm(`An error has occurred:\n\n${e}\n\nPress 'OK' to view debug information to send to technical support.`)||this.showDebugWindow())}showDebugWindow(){this.logOutputWin&&!this.logOutputWin.closed&&this.logOutputWin.close(),this.logOutputWin=window.open("log_output.html","Log","width=600,height=300,status=no,scrollbars=yes,resize=yes,menubar=yes,toolbar=yes,location=yes,top=0,left=0"),this.logOutputWin&&this.logOutputWin.focus()}convertToSCORM12Time(e){if(!Number.isFinite(e)||e<0)return console.error(`Invalid session time of ${e} passed to convertToSCORM12Time`),"0000:00:00.00";const t=1e3,s=36e5,i=(e/t%1).toFixed(2).split(".")[1];let n=(e-=e%t)%6e4;e-=n,n/=t;let o=e%s;e-=o,o/=6e4;const r=e/s;return r>9999?"9999:99:99.99":`${[`${r}`.padStart(4,"0"),`${o}`.padStart(2,"0"),`${n}`.padStart(2,"0")].join(":")}.${i}`}convertToSCORM2004Time(e){if(!Number.isFinite(e)||e<0)return console.error(`Invalid session time of ${e} passed to convertToSCORM2004Time`),"PT0S";const t=36e4,s=864e4;let i=e/10,n=Math.floor(i/s);i-=n*s,n=n?`${n}D`:"";let o=Math.floor(i/t);i-=o*t,o=o?`${o}H`:"";let r=Math.floor(i/6e3);i-=6e3*r,r=r?`${r}M`:"";let a=Math.floor(i/100);a=a||"0";let c=(e/1e3%1).toFixed(2).split(".")[1];return c=c>0?`.${c}`:"",`P${n}T${o+r+a+c}S`}}o.instance=null,e.exports=o},51618:(e,t,s)=>{"use strict";const{FETCH_COURSE_DATA:i}=s(63444),{SCORM_WRAPPER_CHANGE:n}=s(82077),o={_isEnabled:!1,_scormVersion:"1.2",_shouldUsePopup:!1,_shouldUseScrollFix:!1,_shouldShowScormErrors:!1,_useAdvancedTracking:!1,_shouldSendScore:!0,_reporting:{_onTrackingCriteriaMet:"passed",_onAssessmentFailure:"failed"},_cmiExitState:"auto",hasWrapperInitialised:!1,hasSCOFinished:!1,suspendData:{}};e.exports=(e=o,t)=>{if(t.type===i){const{_scorm:s}=t.payload.config;return null!=s&&s._isEnabled?{...e,...s}:o}return e._isEnabled?t.type===n?{...e,...t.payload}:e:o}},56066:(e,t,s)=>{"use strict";const{registerReducer:i,registerEpics:n}=s(90876),o=s(51618),{scormDataReadyEpic:r,scormWrapperInitEpic:a,scormDeserialiseEpic:c,scormTrackerChangeEpic:l,scormFinishEpic:d,scormErrorEpic:u}=s(92657);i("scorm",o),n(r,a,c,l,d,u)},74854:()=>{},66602:()=>{}}]);